{"ast":null,"code":"import { SubmissionError } from \"redux-form\";\nimport axios from \"axios\";\n\n// const sleep = (ms) => new Promise((resolve) => setTimeout(resolve, ms));\n\n// function submit(values) {\n//   return sleep(1000).then(() => {\n//     // simulate server latency\n//     if (![\"john\", \"paul\", \"george\", \"ringo\"].includes(values.username)) {\n//       throw new SubmissionError({\n//         username: \"User does not exist\",\n//         _error: \"Login failed!\",\n//       });\n//     } else if (values.password !== \"redux-form\") {\n//       throw new SubmissionError({\n//         password: \"Wrong password\",\n//         _error: \"Login failed!\",\n//       });\n//     } else {\n//       window.alert(`You submitted:\\n\\n${JSON.stringify(values, null, 2)}`);\n//     }\n//   });\n// }\n\nfunction submit(values) {\n  return axios.get(\"https://jsonplaceholder.typicode.com/users/\").then(response => {\n    if (response.data.find(user => user.username == values.username)) {\n      throw new SubmissionError({\n        username: `${values.username} is already taken`,\n        _error: \"Login failed!\"\n      });\n    }\n  });\n}\nexport default submit;","map":{"version":3,"names":["SubmissionError","axios","submit","values","get","then","response","data","find","user","username","_error"],"sources":["/Users/flavius_gabrielstasac/Documents/workspace/React-Lateral-Start/TODORedux/todo-redux/src/submit.js"],"sourcesContent":["import { SubmissionError } from \"redux-form\";\nimport axios from \"axios\";\n\n// const sleep = (ms) => new Promise((resolve) => setTimeout(resolve, ms));\n\n// function submit(values) {\n//   return sleep(1000).then(() => {\n//     // simulate server latency\n//     if (![\"john\", \"paul\", \"george\", \"ringo\"].includes(values.username)) {\n//       throw new SubmissionError({\n//         username: \"User does not exist\",\n//         _error: \"Login failed!\",\n//       });\n//     } else if (values.password !== \"redux-form\") {\n//       throw new SubmissionError({\n//         password: \"Wrong password\",\n//         _error: \"Login failed!\",\n//       });\n//     } else {\n//       window.alert(`You submitted:\\n\\n${JSON.stringify(values, null, 2)}`);\n//     }\n//   });\n// }\n\nfunction submit(values) {\n  return axios\n    .get(\"https://jsonplaceholder.typicode.com/users/\")\n    .then((response) => {\n      if (response.data.find((user) => user.username == values.username)) {\n        throw new SubmissionError({\n          username: `${values.username} is already taken`,\n          _error: \"Login failed!\",\n        });\n      }\n    });\n}\n\nexport default submit;\n"],"mappings":"AAAA,SAASA,eAAe,QAAQ,YAAY;AAC5C,OAAOC,KAAK,MAAM,OAAO;;AAEzB;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,SAASC,MAAM,CAACC,MAAM,EAAE;EACtB,OAAOF,KAAK,CACTG,GAAG,CAAC,6CAA6C,CAAC,CAClDC,IAAI,CAAEC,QAAQ,IAAK;IAClB,IAAIA,QAAQ,CAACC,IAAI,CAACC,IAAI,CAAEC,IAAI,IAAKA,IAAI,CAACC,QAAQ,IAAIP,MAAM,CAACO,QAAQ,CAAC,EAAE;MAClE,MAAM,IAAIV,eAAe,CAAC;QACxBU,QAAQ,EAAG,GAAEP,MAAM,CAACO,QAAS,mBAAkB;QAC/CC,MAAM,EAAE;MACV,CAAC,CAAC;IACJ;EACF,CAAC,CAAC;AACN;AAEA,eAAeT,MAAM"},"metadata":{},"sourceType":"module","externalDependencies":[]}